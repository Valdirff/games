<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jogo ITO</title>
    <style>
        :root {
            --safe-height: 100dvh;
        }
        body {
            font-family: Arial, sans-serif;
            background: #0d0d0d;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: var(--safe-height);
            color: white;
        }
        .tela {
            display: none;
            background: #1a1a1a;
            padding: clamp(16px, 4vw, 28px);
            border-radius: 12px;
            width: 95%;
            max-width: 480px;
            box-shadow: 0 0 12px rgba(255,255,255,0.12);
            text-align: center;
        }
        button {
            padding: 14px;
            margin: 8px 0;
            width: 100%;
            font-size: clamp(14px, 4vw, 18px);
            background: #6a0dad;
            border: none;
            color: white;
            border-radius: 10px;
            cursor: pointer;
        }
        .players {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 14px;
            margin-bottom: 20px;
        }
        .color-btn {
            width: clamp(48px, 14vw, 70px);
            height: clamp(48px, 14vw, 70px);
            border-radius: 50%;
            cursor: pointer;
            border: 4px solid transparent;
            position: relative;
        }
        .color-selected::after {
            content: "";
            position: absolute;
            top: 50%; left: 50%;
            width: 50%; height: 50%;
            border-radius: 50%;
            border: 3px solid white;
            transform: translate(-50%, -50%);
        }
        h1 {
            font-size: clamp(40px, 12vw, 70px);
            animation: pulse 2s infinite;
        }
        #resultadoTextoNumero span {
            font-size: clamp(80px, 25vw, 160px) !important;
        }
        @keyframes pulse {
            0% { transform: scale(1); text-shadow: 0 0 10px #b84bff; }
            50% { transform: scale(1.1); text-shadow: 0 0 22px #d28bff; }
            100% { transform: scale(1); text-shadow: 0 0 10px #b84bff; }
        }
        .glow { box-shadow: 0 0 28px var(--corTema); }
        @media (max-height: 600px){ h1 { font-size: 32px; } }
    </style>
</head>
<body>

<!-- TELA INICIAL -->
<div id="telaInicio" class="tela" style="display:block;">
    <h1>ITO</h1>
    <button onclick="trocarTela('tela1')">Começar</button>
</div>

<!-- SELEÇÃO DE COR -->
<div id="tela1" class="tela">
    <h2>Escolha sua cor</h2>
    <div class="players" id="colorArea"></div>
    <button onclick="confirmarCor()">Confirmar</button>
</div>

<!-- MENU -->
<div id="tela2" class="tela">
    <h2>O que deseja sortear?</h2>
    <button onclick="mostrarTema()">Sortear Tema</button>
    <button onclick="mostrarNumero()">Sortear Número</button>
</div>

<!-- TEMA -->
<div id="telaTema" class="tela">
    <h2 id="resultadoTextoTema"></h2>
    <button class="small-btn" onclick="mostrarNumero()">Sortear Número</button>
    <button class="small-btn" onclick="mostrarTema()">Sortear Novamente</button>
</div>

<!-- NÚMERO -->
<div id="telaNumero" class="tela">
    <div id="resultadoTextoNumero"></div>
    <button id="btnOcultar" class="small-btn" style="display:none;" onclick="ocultarNumero()">Ocultar</button>
    <button class="small-btn" onclick="mostrarTema()">Sortear Tema</button>
    <button class="small-btn" onclick="mostrarNumero()">Sortear Outro Número</button>
</div>

<script>
const temas = ["Nível de Estresse: 'Relax total' a 'Vou explodir!'","Nível de Fofura: 'Sem graça' a 'Vontade de apertar!'"];
let corEscolhida = null;
const cores = ["red","blue","green","purple","orange","pink","yellow","brown","black","gray"];
const colorArea = document.getElementById("colorArea");

cores.forEach(c=>{
    let btn=document.createElement("div");
    btn.className="color-btn";
    btn.style.background=c;
    btn.onclick=()=>selecionarCor(btn,c);
    colorArea.appendChild(btn);
});

function selecionarCor(btn,cor){
    document.querySelectorAll('.color-btn').forEach(b=>b.classList.remove('color-selected'));
    btn.classList.add('color-selected');
    corEscolhida=cor;
}

function confirmarCor(){
    if(!corEscolhida){ alert("Selecione uma cor!"); return; }
    aplicarCorFundo();
    trocarTela('tela2');
}

function aplicarCorFundo(){
    document.querySelectorAll('.tela').forEach(t=>{
        t.classList.add('glow');
        t.style.setProperty('--corTema', corEscolhida);
    });
}

function trocarTela(id){
    document.querySelectorAll('.tela').forEach(t=>t.style.display='none');
    document.getElementById(id).style.display='block';
}

function mostrarTema(){
    const t = temas[Math.floor(Math.random()*temas.length)];
    document.getElementById("resultadoTextoTema").innerText = t;
    trocarTela('telaTema');
}

function mostrarNumero(){
    const n = Math.floor(Math.random()*100)+1;
    const box=document.getElementById("resultadoTextoNumero");
    box.innerHTML = `<span style='font-size:120px; font-weight:bold; display:block;'>${n}</span>`;
    document.getElementById("btnOcultar").style.display='inline-block';
    trocarTela('telaNumero');
}

function ocultarNumero(){
    const box=document.getElementById("resultadoTextoNumero");
    box.innerHTML = `<div style='width:100%; height:200px; background:${corEscolhida}; border-radius:12px;'></div>`;
    document.getElementById("btnOcultar").style.display='none';
}
</script>

</body>
</html>
